
  <div class="planning">
    <table mat-table [dataSource]="fermetures" class="mat-elevation-z8">

      <ng-container matColumnDef="fermeture">
        <th mat-header-cell *matHeaderCellDef>Fermeture</th>
        <td mat-cell *matCellDef="let fermeture">{{ fermeture }}</td>
      </ng-container>

      <ng-container *ngFor="let month of months; let i = index" [matColumnDef]="month.key">
        <th mat-header-cell *matHeaderCellDef>{{ month.label }}</th>
        <td mat-cell *matCellDef="let fermeture">
          <ng-container style="gap: 3px;" *ngFor="let r of getOT(fermeture, month.start, month.end)">
            <button mat-button style="margin: 5px;" (click)="openOtPereDialog(r)" [ngClass]="niveauColor(r.niveau)">
              <div class="button-calendrier">
              <span class="normal-font">{{ r.datePrevisionnelle | date:'dd/MM':'':'fr' }}</span>
              <span class="small-font">{{ r.otPereId }}</span>
              </div>
            </button>
          </ng-container>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
  </div>